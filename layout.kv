<MainMenuScreen>:
    FloatLayout:
    	Label:
            text: 'Operating Systems Algorithm Visualization'
            size_hint: 0.173, 0.07
            pos_hint: {'x': .42, 'y': 0.94}
        Button:
        	text: 'CPU Scheduling Algorithms'
            size_hint: 0.6, 0.07
            pos_hint: {'x': .2, 'y': .85}
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'cpu_form'
        Button:
        	text: 'Deadlock Avoidance Algorithm'
            size_hint: 0.6, 0.07
            pos_hint: {'x': .2, 'y': .75}
        Button:
        	text: 'Deadlock Detection Algorithm'
            size_hint: 0.6, 0.07
            pos_hint: {'x': .2, 'y': .65}
        Button:
        	text: 'Contiguous Memory Allocation Strategies'
            size_hint: 0.6, 0.07
            pos_hint: {'x': .2, 'y': .55}
        Button:
            text: 'Page Replacement Algorithms'
            size_hint: 0.6, 0.07
            pos_hint: {'x': .2, 'y': .45}
        Button:
            text: 'Disk Scheduling Algorithms'
            size_hint: 0.6, 0.07
            pos_hint: {'x': .2, 'y': .35}
        Image:
            source: "images/nsit_logo.png"
            size_hint: 0.2, 0.2
            pos_hint: {'x': .4, 'y': .1}
        Label:
            text: 'Developed By -\nUdit Arora\nRohit Takhar\nAdvisor -\nDr. Pinaki Chakraborthy'
            size_hint: 0.6, 0.06
            pos_hint: {'x': .5, 'y': .15}

<CPUSchedulingScreen>:
    num_processes: num_processes
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'CPU Scheduling Algorithms'
            size_hint_y: 0.1
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.2
            Label:
                text: 'Number of Processes (Max 25):'
            TextInput:
                id: num_processes
                multiline: 'False'
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.7
            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text: 'FCFS'
                    on_press:
                        root.cpu_type = 0
                        root.load_form()
                        root.manager.transition.direction = 'left'
                        root.manager.current = 'cpu2'
                Button:
                    text: 'Round Robin'
                    on_press:
                        root.cpu_type = 1
                        root.load_form()
                        root.manager.transition.direction = 'left'
                        root.manager.current = 'cpu2'
            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text: 'SJF Non-Preemptive'
                    on_press:
                        root.cpu_type = 2
                        root.load_form()
                        root.manager.transition.direction = 'left'
                        root.manager.current = 'cpu2'
                Button:
                    text: 'SJF Preemptive'
                    on_press:
                        root.cpu_type = 3
                        root.load_form()
                        root.manager.transition.direction = 'left'
                        root.manager.current = 'cpu2'
            Button:
                text: 'Back'
                on_press:
                    root.manager.transition.direction = 'right'
                    root.manager.current = 'menu'

<CPUInputScreen_old>:
    layout: layout
    type_text: type_text
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 0.1
            id: type_text
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.2
            Label:
                text: 'Sno.'
            Label:
                text: 'Processes'
            Label:
                text: 'Arrival time (ms)'
            Label:
                text: 'CPU burst time (ms)'
        BoxLayout:
            orientation: 'vertical'
            id: layout
        GridLayout:
            size_hint_y: 0.2
            cols: 2
            Button:
                text: 'Back'
                on_press:
                    root.manager.transition.direction = 'right'
                    root.manager.current = 'cpu1'
            Button:
                text: 'Submit'
                on_press:
                    #root.calculate_schedule()
                    root.manager.transition.direction = 'left'
                    root.manager.current = 'cpu_output'

<CPUInputScreen>:
    on_pre_enter: root.bind_height()
    layout: layout
    num_processes: num_processes
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            padding: 10
            size_hint_y: 0.2
            pos_hint: {'top': 1}
            Label:
                text: 'Number of processes: '
                on_text: root.load_form()
            TextInput:
                id: num_processes
                multiline: 'False'
            Label:
                size_hint_x: 0.05
                text: ''
            Button:
                size_hint_x: 0.3
                size_hint_y: 0.8
                halign: 'center'
                valign: 'middle'
                text: 'Load form'
                on_release: root.load_form()
        BoxLayout:
            orientation: 'horizontal'
            padding: 10, 40
            size_hint_x: 0.8
            size_hint_y: 0.2
            Label:
                text: 'Information about the scheduling algorithm -'
                size_hint_x: 0.4
                text_size: self.size
                #pos_hint: {'top': 1}
                padding: 10, 10
            #__safe_id: [dropdown.__self__]
            Button:
                id: btn
                text: 'FCFS'
                on_release: dropdown.open(self)
                size_hint_y: None
                height: '40dp'
                size_hint_x: 0.3
                #pos_hint: {'top': 0.5}
            #Widget
            DropDown:
                id: dropdown
                on_parent: self.dismiss()
                on_select: btn.text = format(args[1])
                Button:
                    text: 'First Come First Serve'
                    size_hint_y: None
                    height: '40dp'
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    on_release: dropdown.select('FCFS'); root.set_cpu_type(0)
                Button:
                    text: 'Shortest Job First'
                    size_hint_y: None
                    height: '40dp'
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    on_release: dropdown.select('SJF'); root.set_cpu_type(2)
                Button:
                    text: 'Priority'
                    size_hint_y: None
                    height: '40dp'
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    on_release: dropdown.select('Priority'); root.set_cpu_type(4)
                Button:
                    text: 'Round Robin'
                    size_hint_y: None
                    height: '40dp'
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    on_release: dropdown.select('RR'); root.set_cpu_type(1)
                Button:
                    text: 'Multilevel Queue'
                    size_hint_y: None
                    height: '40dp'
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    on_release: dropdown.select('Multilevel')
                Button:
                    text: 'Multilevel Feedback Queue'
                    size_hint_y: None
                    height: '40dp'
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    on_release: dropdown.select('Multilevel Feedback')
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.2
            padding: 10, 10
            Label:
                text: 'Variant -'
                size_hint_x: 0.2
                text_size: self.size
                padding: 10, 10
                pos_hint: {'top': 1}
            ToggleButton:
                group: 'variant'
                text: 'Preemptive'
                size_hint_y: None
                height: '40dp'
                size_hint_x: 0.2
                text_size: self.size
                halign: 'center'
                valign: 'middle'
                on_release: root.preemptive_flag = True; root.update_cpu_type(True)
            ToggleButton:
                group: 'variant'
                text: 'Non-Preemptive'
                size_hint_y: None
                height: '40dp'
                size_hint_x: 0.2
                text_size: self.size
                halign: 'center'
                valign: 'middle'
                on_release: root.preemptive_flag = False; root.update_cpu_type(False)
            Label:
                text: ''
                size_hint_x: 0.05
            Button:
                text: 'Submit'
                size_hint_x: 0.2
                size_hint_y: None
                height: '40dp'
                on_release: 
                    root.manager.transition.direction = 'left'
                    root.manager.current = 'cpu_output'
        ScrollView
            #size_hint_y: 0.8
            size: self.size
            GridLayout:
                id: layout
                cols: 1
                size_hint_y: None
                #height: self.size[1]
                size_hint_y: 0.95

<CPUOutputScreen>:
    layout: layout
    gantt: gantt
    time: time
    on_pre_enter: root.calculate_schedule()
    on_enter: root.draw_gantt()
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'The processes will be scheduled as follows:'
            size_hint_y: 0.1
        BoxLayout:
            size_hint_y: 0.1
            orientation: 'horizontal'
            Label:
                text: 'Process'
            Label:
                text: 'Start/Resume time'
            Label:
                text: 'Suspend/Termination time'
        BoxLayout:
            size_hint_y: 0.4
            orientation: 'vertical'
            id: layout
        BoxLayout:
            size_hint_y: 0.3
            orientation: 'horizontal'
            id: gantt
        BoxLayout:
            size_hint_y: 0.1
            orientation: 'horizontal'
            id: time
        GridLayout:
            size_hint_y: 0.1
            cols: 2
            Button:
                text: 'Back'
                on_press:
                    root.manager.transition.direction = 'right'
                    root.manager.current = 'cpu_form'
            Button:
                text: 'Exit'
                on_press: root.stop()
